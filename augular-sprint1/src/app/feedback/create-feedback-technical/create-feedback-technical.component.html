<div class="container register-form">
  <div class="row justify-content-center align-items-center">
    <div class="form w-75">
      <div class="col-md-12 form-content">
        <div class="note">
          <p style="font-size: 28px">Phản hồi kĩ thuật</p>
        </div>
        <form [formGroup]="feedbackForm" (ngSubmit)="submit()">
          <div class="form-group">
            <label for="tieude">Tiêu đề <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="tieude" formControlName="feedbackTitle"/>
            <span style="color: red"
                  *ngIf="feedbackForm.controls.feedbackTitle.hasError('required')
                                    && feedbackForm.controls.feedbackTitle.dirty">
              Tiêu đề không được để trống.</span>
          </div>
          <div class="form-group">
            <label for="category">Loại lỗi <span class="text-danger">*</span></label>
            <select formControlName="typeError" id="category" class="form-control">
              <option *ngFor="let tp of typeErrorList " [ngValue]="tp.id">{{tp.name}}</option>
            </select>
            <span style="color: red"
                  *ngIf="feedbackForm.controls.typeError.hasError('required')
                                    && feedbackForm.controls.typeError.dirty">
              Loại lỗi không được để trống.</span>
          </div>
          <div class="form-group">
            <label for="description">Nội dung lỗi <span class="text-danger">*</span></label>
            <textarea class="form-control" id="description" rows="5" formControlName="feedbackContent"></textarea>
            <span style="color: red"
                  *ngIf="feedbackForm.controls.feedbackContent.hasError('required')
                                    && feedbackForm.controls.feedbackContent.dirty">
              Nội dung lỗi không được để trống.</span>
          </div>
          <div class="form-group">
            <label> Hình ảnh lỗi <span class="text-danger">*</span></label>
            <label class="btn btnAddImage ml-2" for="images"><i class="fas fa-images"></i>&nbsp; Thêm ảnh</label>
            <input hidden style="border: none" id="images" class="form-control"
                   formControlName="image"
                   type="file"
                   (change)="showPreview($event)"
                   accept=".jpg,.jpeg,.png" multiple/>
            <div>
              <label *ngFor="let ima of arrayImage">
                <img src="{{ima}}" alt="" style="width: 150px">
              </label>
            </div>
            <span style="color: red"
                  *ngIf="feedbackForm.controls.image.hasError('required')
                                    && feedbackForm.controls.image.dirty">
              Hình ảnh lỗi không được để trống.</span>
          </div>
          <div class="form-group text-right">
            <button type="button" class="btn btnSubmitCancel" (click)="onBack()">Hủy</button>
            <button type="submit" class="btn btnSubmit ml-1" data-toggle="modal"
                    data-target="#exampleModal" [disabled]="!feedbackForm.valid">
              Gửi phản hồi
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
