<div class="container register-form">
  <div class="row justify-content-center align-items-center">
    <div class="w-75 form">
      <div class="col-md-12 form-content">
        <div class="note">
          <p style="font-size: 28px">Đổi thông người dùng</p>
        </div>
        <form *ngIf="updateForm" [formGroup]="updateForm" (ngSubmit)="update()">
          <div class="form-group">
            <label for="username">Tên đăng nhập: <span class="text-danger"></span></label>
            <input type="text" class="form-control" id="username" formControlName="username" readonly/>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="role">Quyền truy cập: <span class="text-danger">*</span></label>
                <select name="role" class="form-control" id="role" formControlName="roles">
                  <option *ngFor="let roles of roleList" [ngValue]="roles.id">
                    <ng-container *ngIf="roles.id == 2">User</ng-container>
                    <ng-container *ngIf="roles.id == 1">Admin</ng-container>
                  </option>
                </select>
                <small class="text-danger" *ngIf="updateForm.controls.roles.hasError('required')
              && updateForm.controls.roles.touched">
                  Vui lòng chọn quyền truy cập.
                </small>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="category">Bộ phận: <span class="text-danger">*</span></label>
                <select name="category" class="form-control" id="category" formControlName="department">
                  <option *ngFor="let departments of departmentList"
                          [ngValue]="departments.id">{{departments.name}}</option>
                </select>
                <small class="text-danger" *ngIf="updateForm.controls.department.hasError('required')
              && updateForm.controls.department.touched">
                  Vui lòng chọn bộ phận.
                </small>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="name">Họ và tên: <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="name" formControlName="name"/>
            <small class="text-danger" *ngIf="updateForm.controls.name.hasError('required')
              && updateForm.controls.name.touched">
              Vui lòng nhập họ và tên.
            </small>
            <small class="text-danger" *ngIf="updateForm.controls.name.hasError('minlength')
              && updateForm.controls.name.touched">
              Họ và tên phải từ 6-30 ký tự.
            </small>
            <small class="text-danger" *ngIf="updateForm.controls.name.hasError('maxlength')
              && updateForm.controls.name.touched">
              Họ và tên phải từ 6-30 ký
              tự.
            </small>
            <small class="text-danger" *ngIf="updateForm.controls.name.hasError('pattern')
              && updateForm.controls.name.touched">
              Vui lòng không sử dụng số, ký tự đặc biệt, và viết hoa chữ cái đầu.
            </small>
          </div>
          <div class="form-group">
            <label for="email">Email: <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="email" formControlName="email"/>
            <small class="text-danger" *ngIf="updateForm.controls.email.hasError('required')
              && updateForm.controls.email.touched">
              Vui lòng nhập email.
            </small>
            <small class="text-danger" *ngIf="updateForm.controls.email.hasError('pattern')
              &&updateForm.controls.email.touched">
              Email không đúng định dạng.
            </small>
          </div>
          <div class="form-group text-right">
            <button class="btn btnSubmitCancel" routerLink="/nguoi-dung/danh-sach">Hủy bỏ</button>
            <button class="btn btnSubmit ml-1" [disabled]="!updateForm.valid">Lưu lại</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
